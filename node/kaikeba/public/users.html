<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>跨域问题解决方案汇总</title>
    <script src = "/javascripts/jquery.js"></script>
</head>
<body>

<script>
    //jsonp
    // $.ajax({
    //     url:'http://127.0.0.1:3000/users/jsonp',
    //     dataType:'jsonp',
    //     data:{name:'tom'},
    //     success:function(users){
    //         console.log(users);
    //     }
    // })

    //cors  get
    // $.ajax({
    //     url:'http://127.0.0.1:3000/users/cors',
    //     success:function(users){
    //         console.log(users);
    //     }
    // })

    //cors  post
    // $.ajax({
    //     url:'http://127.0.0.1:3000/users/cors',
    //     method:'post',//默认编码是urlencoded
    //     headers:{'Content-Type':'application/json'},
    //     data:JSON.stringify({name:'Jerry',age:20}),
    //     success:function(users){
    //         console.log(users);
    //     }
    // })

    //put
    $.ajax({
        url:'http://127.0.0.1:3000/users/cors',
        method:'put',
        headers:{'Content-Type':'application/json'},
        xhrFields:{withCredentials:true},//携带cookie
        data:JSON.stringify({name:'tom',age:30}),
        success:function(users){
            console.log(users);
        }
    })
</script>
</body>
</html>